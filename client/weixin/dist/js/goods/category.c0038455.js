!function(t){function o(){this.init()}o.prototype={init:function(){var o=this;t("#category").empty(),this.getData().then(function(){o.initEvent()})},getData:function(){var o=this;return Pub.get("/Home/goodsCategory/index").then(function(i){var a,e;0===i.error_code&&(console.log(i),a=i.data.list,a&&a.length>0&&(e=a[0].next,hotData=a[0].hot_goods)),t("#kind").empty(),o.categoryData=a,o.categoryOne(a),o.categoryTwo(e),o.hotGoods(hotData)})},categoryOne:function(o){if(o){var i="";for(var a in o)i+='<li>   <a href="javascript:void(0)" data-index="'+a+'">       <i><img src="'+o[a].type_img+'"></i>       <h5>'+o[a].type_name+"</h5>   </a></li>";t("#category").append(i)}},categoryTwo:function(o){if(o){var i="";for(var a in o)if(i+="<h4>"+o[a].type_name+"</h4>",o[a].next&&o[a].next.length>0){i+='<ul class="hot-kind">';var e=o[a].next;for(var n in e)i+='<li>   <a href="'+Pub.getHtmlUrl("html/goods/list.3b56a58d.html")+"?id="+e[n].id+'">       <div class="img">           <span></span><img src="'+e[n].type_img+'">       </div>       <div class="name">'+e[n].type_name+"</div>   </a></li>";i+="</ul>"}t("#kind").append(i)}},hotGoods:function(o){t("#hot_goods").empty();var i="";if(o&&o.length>0){i+='<h4>热门单品</h4><ul class="hot-list">';for(var a in o)i+='<li><a href="'+Pub.getHtmlUrl("html/goods/cont.fb80c266.html")+"?id="+o[a].id+'"><div class="img"><span></span><img src="'+o[a].goods_img+'"> </div><div class="info"><div class="name">'+o[a].goods_name+'</div><div class="price"><span>￥'+o[a].goods_price+"</span><del>￥"+o[a].market_price+"</del></div></div></a></li>";i+="</ul>",t("#hot_goods").append(i)}},initEvent:function(){var o=this;t("#category li").on("click",function(){t(this).siblings().removeClass("active"),t(this).addClass("active")}),t(".category-menu").niceScroll({cursorcolor:"",cursoropacitymax:1,touchbehavior:!0,cursorwidth:"5px",cursorborder:"0",cursorborderradius:"5px"}),t("#category li > a").on("click",function(){var i=t(this).attr("data-index");if(t("#kind").empty(),o.categoryData&&o.categoryData[i]){var a=o.categoryData[i].next,e=o.categoryData[i].hot_goods;console.log(e),o.categoryTwo(a),o.hotGoods(e)}})}},t(document).ready(function(){new o})}(jQuery);