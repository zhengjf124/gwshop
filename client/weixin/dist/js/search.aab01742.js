!function($,window,document,undefined){var Page=function(){this.init()};Page.prototype={params:{searchWord:"",url:"",canAdd:"",hisArt:"",len:0,json:[]},init:function(){this.initParams(),this.addHis(),this.getHis(),this.initEvent()},initParams:function(){this.params.searchWord=$("#word").val(),this.params.canAdd=!0,this.params.hisArt=$.cookie("hisArt")},addHis:function(){var _this=this;if(_this.params.hisArt&&null!=_this.params.hisArt&&(_this.params.hisArt=eval("("+_this.params.hisArt+")"),_this.params.len=_this.params.hisArt.length),$(_this.params.hisArt).each(function(){if(this.word===_this.params.searchWord)return _this.params.canAdd=!1,!1}),_this.params.canAdd===!0){_this.params.json="[";var start=0;_this.params.len>12&&(start=1);for(var i=start;i<_this.params.len;i++)_this.params.json=_this.params.json+'{"word":"'+_this.params.hisArt[i].word+'"},';_this.params.json=_this.params.json+'{"word":"'+_this.params.searchWord+'"}]',$.cookie("hisArt",_this.params.json,{path:"/",expires:3})}},getHis:function(){var _this=this;if(_this.params.json=eval("("+$.cookie("hisArt")+")"),_this.params.json.length>0){$("#search_list").empty();for(var html="",i=1;i<_this.params.json.length;i++)html+='<a href="'+Pub.getHtmlUrl("html/goods/list.3b56a58d.html")+"?keyword="+_this.params.json[i].word+'" target="_blank">'+_this.params.json[i].word+"</a>";$("#search_list").append(html)}},initEvent:function(){var s=this;$("#word").on("input propertychange",function(){var s=$("#word").val();""===s?$(".clear-word").hide():$(".clear-word").show()}),$(".clear-word").on("click",function(){$("#word").val(""),$(".clear-word").hide()}),$("#submit_search").on("click",function(){var a=$("#word").val();words=a.replace(/ /g,""),""!=words?(s.params.url=Pub.getHtmlUrl("html/goods/list.3b56a58d.html")+"?keyword="+encodeURI(words),location.href=s.params.url):cloud.explain("请输入关键词搜索！",2e3)}),$("#del_search").on("click",function(){cloud.asked("您确定要清除最近搜索记录吗？",function(){$.cookie("hisArt","",{path:"/",expires:-1}),$("#search_list").empty(),cloud.explain("恭喜您，清除成功！","success",2e3),setTimeout(function(){window.location.reload()},2e3)},function(){cloud.msg("您选择了“取消”！","50%",2e3)})})}};var page=new Page}(jQuery,window,document);