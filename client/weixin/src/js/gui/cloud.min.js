!function(h){"function"===typeof define&&"object"===typeof define.amd&&define.amd?define(h):"undefined"!==typeof module&&module.exports?module.exports=h():window.cloud=h()}(function(){function h(b,e,f,a){b=[];for(var d=0;d<e.length;d++)b.push('<div class="cloud-select" data-index="'+d+'">'),(new RegExp("^("+a.replace(/,/,"|")+")$")).test(e[d][f])?b.push('<div class="cloud-select-true"></div>'):b.push('<div class="cloud-select-false"></div>'),b.push('<div class="cloud-select-title">'+e[d][f]+"</div>"),
b.push("</div>");return b.join("")}var m=document,k=0,g={},l=["success","warning","error","loading"];g.open=function(b){function e(){for(var c=0;c<l.length;c++)if(l[c]==a.icon)return'<div class="cloud-icon cloud-icon-'+l[c]+'">'+a.content+"</div>";return/^.*?(jpg|png|gif)$/.test(a.icon)?'<div class="cloud-icon" style="background-image: url('+a.icon+');">'+a.content+"</div>":a.content}function f(){!1!==a.close(d)&&(d.className+=" cloud-close",m.body.removeChild(d))}var a={title:"",closeBtn:!1,content:"",
icon:"",covered:!1,coveredClose:!0,button:[],load:function(c){},close:function(c){}},d=document.createElement("div");k++;(function(){for(var c in b)a[c]=b[c]})();(function(){var c=[];d.className="cloud";d.id="cloud-"+k;d.style.zIndex=1E4+k;c.push('<div class="cloud-main">');if(""!=a.title||a.closeBtn)c.push('<div class="cloud-title">'),c.push(a.title),a.closeBtn&&c.push('<div class="cloud-closebtn"></div>'),c.push("</div>");""!=a.content&&c.push('<div class="cloud-content">'+e()+"</div>");if(0<a.button.length){var b=
a.button;c.push('<div class="cloud-button">');for(var f=0;f<b.length;f++)c.push('<div class="cloud-button-item">'+b[f].name+"</div>");c.push("</div>")}c.push("</div>");a.covered&&c.push('<div class="cloud-cover"></div>');d.innerHTML=c.join("")})();(function(){var c=d.querySelector(".cloud-closebtn"),b=d.querySelectorAll(".cloud-button-item"),e=d.querySelector(".cloud-cover");c&&c.addEventListener("click",f,!1);if(0<b.length)for(c=0;c<a.button.length;c++)(function(c,a){c.addEventListener("click",function(){"callback"in
a?!1!==a.callback(d)&&f():f()},!1)})(b[c],a.button[c]);e&&a.coveredClose&&e.addEventListener("click",f,!1)})();m.body.appendChild(d);a.load(d);d.style.margin="-"+d.offsetHeight/2+"px 0 0 -"+d.offsetWidth/2+"px";return{close:f,el:d}};g.msg=function(b,e,f){var a=!0,d=this.open({content:b,load:function(c){c.style.top=e||"50%";var a=c.querySelector(".cloud-main");a.style.background="rgba(0, 0, 0, 0.5)";a.style.border="none";a.style.width="auto";c=c.querySelector(".cloud-content");c.style.color="#fff";
c.style.padding="2px 10px";c.style.fontSize="12px"},close:function(c){return a?(c.style.cssText+="-webkit-transition: all 0.5s;transition: all 0.5s;opacity: 0;",a=!1,setTimeout(d.close,500),!1):!0}});setTimeout(d.close,f||1500);return d};g.text=function(b,e,f){return this.open({title:b||"\u8bf7\u8f93\u5165\u5185\u5bb9",content:'<input class="cloud-text" type="text" value="'+(e||"")+'">',covered:!0,coveredClose:!1,closeBtn:!0,button:[{name:"\u53d6\u6d88"},{name:"\u786e\u5b9a",callback:function(a){a=
a.querySelector(".cloud-text");f(a.value)}}]})};g.textarea=function(b,e,f){return this.open({title:b||"\u8bf7\u8f93\u5165\u5185\u5bb9",content:'<textarea class="cloud-text">'+e+"</textarea>",covered:!0,coveredClose:!1,closeBtn:!0,button:[{name:"\u53d6\u6d88"},{name:"\u786e\u5b9a",callback:function(a){a=a.querySelector(".cloud-text");f(a.value)}}]})};g.alert=function(b,e){return this.open({title:"\u7cfb\u7edf\u63d0\u793a",content:b,covered:!0,closeBtn:!0,button:[{name:"\u786e\u5b9a",callback:function(){e()}}]})};
g.explain=function(b,e,f){var a=!0,d=this.open({content:b,covered:!0,icon:e||"",close:function(c){return a?(c.style.cssText+="-webkit-transition: all 0.5s;transition: all 0.5s;opacity: 0;",a=!1,setTimeout(d.close,500),!1):!0}});setTimeout(d.close,f||1500);return d};g.asked=function(b,e,f){return this.open({content:b,covered:!0,button:[{name:"\u53d6\u6d88",callback:f||function(){}},{name:"\u786e\u5b9a",callback:e||function(){}}]})};g.select=function(b,e,f,a,d){var c=this.open({title:b,content:h(b,
e,f,a),covered:!0,button:[{name:"\u53d6\u6d88"}],load:function(a){a=a.querySelectorAll(".cloud-select");for(var b=0;b<a.length;b++)a[b].addEventListener("click",function(){for(var a=this.parentNode.querySelectorAll(".cloud-select-true"),b=0;b<a.length;b++)a[b].className="cloud-select-false";this.querySelector("div").className="cloud-select-true";a=parseInt(this.dataset.index);d(e[a]);c.close()},!1)}});return c};g.checkbox=function(b,e,f,a,d){return this.open({title:b,content:h(b,e,f,name),covered:!0,
button:[{name:"\u786e\u5b9a",callback:function(c){c=c.querySelectorAll(".cloud-select-true");for(var a=[],b=0;b<c.length;b++){var f=parseInt(c[b].parentNode.dataset.index);a.push(e[f])}d(a)}}],load:function(a){a=a.querySelectorAll(".cloud-select");for(var b=0;b<a.length;b++)a[b].addEventListener("click",function(){var a=this.querySelector("div");a.className="cloud-select-false"==a.className?"cloud-select-true":"cloud-select-false"},!1)}})};g.loading=function(b,e,f,a){e=!0;b=this.open({content:b,covered:!0,
coveredClose:void 0==e?!0:e,icon:f||"loading",load:function(a){a.querySelector(".cloud-main").style.width="auto"}});setTimeout(b.close,a||1500);return b};return g});