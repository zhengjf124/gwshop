!function(e,t,d,s){var a=function(){this.init()};a.prototype={init:function(){this.getData()},getData:function(){var e=this;Pub.post("/Home/userAddress/index",{},function(t){0===t.error_code&&(e.addressList(t.data.user_address),e.initEvent())})},addressList:function(t){e("#address-list").empty();var d="";if(t&&t.length>0){for(var s in t)d+='<li><div class="address-cont" data-index="'+t[s].id+'"><h3><span>'+t[s].consignee+"</span><span>"+t[s].mobile+"</span></h3><h4>"+t[s].province+"&nbsp;"+t[s].city+"&nbsp;"+t[s].district+"&nbsp;"+t[s].address+'</h4></div><i class="address-edit.a19b5680" data-index="'+t[s].id+'">&#xe6af;</i><i class="address-delect" data-index="'+t[s].id+'">&#xe6c5;</i></li>';e("#address-list").append(d)}else e("#address-list").append('<div class="nothing">您还没有添加收货地址，请您添加！</div>')},initEvent:function(){var t=this;e("#to-add-address").on("click",function(){var e=Pub.getHtmlUrl("html/shopping/address.f0b8005f.html");location.href=e}),e(".address-delect").on("click",function(){var d=e(this).attr("data-index"),s=this;cloud.asked("您确定要删除吗？",function(){t.delectAddress(d),e(s).parent().fadeOut()},function(){cloud.msg("您选择“取消”了!","50%",2e3)})}),e(".address-edit").on("click",function(){var d=e(this).attr("data-index");t.editAddress(d)}),e(".address-cont").on("click",function(){var d=e(this).attr("data-index");t.chooleAddress(d)})},delectAddress:function(e){Pub.post("/Home/UserAddress/delete",{id:e},function(e){0===e.error_code&&cloud.explain("恭喜您，删除成功！","success",2e3)})},editAddress:function(e){var t=Pub.getHtmlUrl("html/shopping/address-edit.6ce01c19.html")+"?id="+e;location.href=t},chooleAddress:function(e){if(console.log(localStorage.balanceUrl),localStorage.balanceUrl!==s){var t=localStorage.getItem("balanceUrl");localStorage.removeItem("balanceUrl"),localStorage.setItem("addressId",e),location.href=Pub.getHtmlUrl(t)}}};new a}(jQuery,window,document);