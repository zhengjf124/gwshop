!function(e,r,o,i){var n=function(){this.init()};n.prototype={params:{userName:"",userPassword:""},init:function(){this.formCheck(),this.initEvent()},postData:function(){var r=this;Pub.post("/Home/Login/reg",{user_name:r.params.userName,password:r.params.userPassword},function(r){console.log(r),0===parseInt(r.error_code)?(cloud.explain("恭喜您，注册成功！","success",3e3),e("#user_name").val(""),e("#user_pwd").val(""),e("#user_pwd_confirm").val("")):10002===parseInt(r.error_code)&&(cloud.explain(r.message,"",3e3),setInterval(function(){e("#user_name").val(""),e("#user_pwd").val(""),e("#user_pwd_confirm").val("")},1500))})},formCheck:function(){e("#register_form").Validform({tiptype:function(e,r,o){if(!r.obj.is("form")){var i=r.obj.parents(".box-check").find(".Validform_checktip");o(i,r.type),i.text(e);var n=r.obj.parents(".box-check").find(".Validform-info");if(2==r.type)n.hide();else{if(n.is(":visible"))return;r.obj.offset().left,r.obj.offset().top;n.css({right:"-200px",top:"-34px"}).show().animate({right:"3px"},200)}}},usePlugin:{passwordstrength:{minLen:6,maxLen:18,trigger:function(e,r){r||e.parents(".box-check").find(".Validform-info").hide()}}}})},initEvent:function(){var r=this;e("#btn_reg").on("click",function(){return r.params.userName=e("#user_name").val(),r.params.userPassword=e("#user_pwd").val(),""===r.params.userName||""===r.params.userName?cloud.explain("请填写完整信息再提交！","",3e3):r.postData(),!1}),e("#to_index").on("click",function(){var e=Pub.getHtmlUrl("html/index.html");location.href=e}),e("#to_login").on("click",function(){var e=Pub.getHtmlUrl("html/user/login-64664234ad.html");location.href=e}),e("#user_name").on("blur",function(){r.params.userName=e("#user_name").val();var o=this;return Pub.post("/Home/Login/checkUserNameReg",{user_name:r.params.userName},function(r){console.log(r),0===parseInt(r.error_code)?(e(o).siblings(".Validform-info-check").find(".Validform_checktip").removeClass("Validform_wrong").addClass("Validform_right").text("验证通过"),e(o).siblings(".Validform-info-check").fadeOut()):1002===parseInt(r.error_code)&&(e(o).siblings(".Validform-info-check").find(".Validform_checktip").removeClass("Validform_right").addClass("Validform_wrong").text("用户名已存在"),e(o).siblings(".Validform-info-check").css({right:"-200px",top:"-34px"}).show().animate({right:"3px"},200))}),!1})}};new n}(jQuery,window,document);